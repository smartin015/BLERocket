include "nav.fbs";

namespace game;

enum ShipPartType:byte {
  hull = 0,
  thruster = 1,
  cargo = 2,
  sensors = 3,
}

table ShipPart {
  type:ShipPartType;
  quality:ubyte;
}

table Ship {
  name:string;
  parts:[ShipPart];
  creators:[ubyte];
  owner:ubyte;
}

table Phase {
  id:ubyte;
  txn:ubyte;
}

table Status {
  // Metadata
  firmwareVersion:ubyte;
  user:ubyte;
  site:ubyte;

  // Game state details
  phase_id:ubyte;
  phase_txn:ubyte;
  score:ushort;
  reputation:ushort;
}

table State {
  page:nav.Page;
  parts:[ShipPart];
  ships:[Ship];
  status:Status;
}

root_type State;
