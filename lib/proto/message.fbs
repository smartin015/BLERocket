include "nav.fbs";
include "game.fbs";

namespace message;

enum Type:ubyte {
 // Resource messages
 give = 0,
 // MAKE
 launch = 1,

 // Ship action messages
 race = 2,
 trade = 3,
 explore = 4,

 // Status messages
 score = 5,
}

union UMessage {
  status:game.Status,
  ship:Ship,
  part:Part,
}

table Message {
  oneof:UMessage;
}

table Ship {
  action:Type;
  ship:game.Ship;
  dest_user:ubyte;
}

table Part {
  action:Type;
  part:game.ShipPart;
  dest_user:ubyte;
}

root_type Message;
